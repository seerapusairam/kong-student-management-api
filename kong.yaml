_format_version: "3.0"
services:
- name: student-api-service
  host: app
  protocol: http
  port: 3000
  routes:
  - name: student-routes
    paths:
    - /api/students
    strip_path: false
    plugins:
    - name: response-transformer
      config:
        remove:
          headers:
          - X-Powered-By
          json:
          - _id
          - createdBy
          - createdAt
          - updatedAt
          - __v
    protocols:
    - http
    - https
  - name: user-routes
    paths:
    - /api/user
    strip_path: false
    protocols:
    - http
    - https
  plugins:
  - name: http-log
    config:
      http_endpoint: https://webhook.site/26bcdc01-e72b-4971-a1f0-c3e22bc877dd
      method: POST
      timeout: 10000
  - name: rate-limiting
    config:
      minute: 10
      limit_by: consumer
      fault_tolerant: true